<!DOCTYPE html>

<html>

<head>
<title>Friends of Ming Chow obj Listing</title>
<script>
	var request = new XMLHttpRequest();
	function init() {
		try{
			request.open("GET", "http://messagehub.herokuapp.com/lab8.json", true);
		}
		catch (error) {
		
		}
        // Execute the request
        request.send(null);

        // Handle the request (however you want)
        request.onreadystatechange = function() 
		{
			if(request.readyState == 4 && request.status == 200)
			{
				parse(JSON.parse(request.responseText));
			}
		}
    }	
						
    function parse(obj) {
        	for(var i = 0; i < obj.length; i++) {
	    	company = obj[i].company;
	    	//description = obj[i].description;
	    	jobLocation = obj[i].location;
	    	position = obj[i].position;
	    	//requirements = obj[i].requirements;
	    	//responsibilities = obj[i].responsibilities;
	    	//createdOn = obj[i].created_at;
	    	//updatedOn = obj[i].updated_at;
	    	companyNode = document.createElement("H1");
	    	//descriptionNode = document.createElement("p");
	    	locationNode = document.createElement("p");
	    	positionNode = document.createElement("p");
	    	//requirementsNode = document.createElement("p");
	    	//responsibilitiesNode = document.createElement("p");
	    	//createdOnNode = document.createElement("p");
	    	//updatedOnNode = document.createElement("p");
	    	companyText = document.createTextNode(company);
	    	//descriptionText = document.createTextNode("Description: " + description);
	    	locationText = document.createTextNode("Where: " + jobLocation);
	    	positionText = document.createTextNode("Title: " + position);
	    	//requirementsText = document.createTextNode("Required Knowledge: " + requirements);
	    	//responsibilitiesText = document.createTextNode("Responsibilities: " + responsibilities);
	    	//createdOnText = document.createTextNode("Created: " + createdOn);
	    	//updatedOnText = document.createTextNode("Updated: " + updatedOn);
	    	companyNode.appendChild(companyText);
	    	//descriptionNode.appendChild(descriptionText);
	    	locationNode.appendChild(locationText);
	    	positionNode.appendChild(positionText);
	    	//requirementsNode.appendChild(requirementsText);
	    	//responsibilitiesNode.appendChild(responsibilitiesText);
	    	//createdOnNode.appendChild(createdOnText);
	    	//updatedOnNode.appendChild(updatedOnText);
	    	list = document.getElementById('list');
	    	//list.insertBefore(updatedOnNode, list.childNodes[0]);
	    	//list.insertBefore(createdOnNode, list.childNodes[0]);
	    	//list.insertBefore(responsibilitiesNode, list.childNodes[0]);
	    	//list.insertBefore(requirementsNode, list.childNodes[0]);
	    	list.insertBefore(positionNode, list.childNodes[0]);
	    	list.insertBefore(locationNode, list.childNodes[0]);
	    	//list.insertBefore(descriptionNode, list.childNodes[0]);
	    	list.insertBefore(companyNode, list.childNodes[0]);
	    	
    	}
	
	}
	
	
	
</script>
</head>

<body onload="init()">
<div id="list"></div>
</body>

</html>

